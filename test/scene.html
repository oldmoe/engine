<!DOCTYPE HTML>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="prototype.js" type="text/javascript"></script>
        <script src="data.js" type="text/javascript"></script>
        <script src="../src/publisher.js" type="text/javascript"></script>
        <script src="../src/reactor.js" type="text/javascript"></script>
        <script src="../src/scene.js" type="text/javascript"></script>
        <script src="../src/display_scene.js" type="text/javascript"></script>
        <script src="../src/render_loop.js" type="text/javascript"></script>
        <script src="../src/reactor.js" type="text/javascript"></script>
        <script src="defender_display.js" type="text/javascript"></script>
        <script src="defender_scene.js" type="text/javascript"></script>
        <script src="map.js" type="text/javascript"></script>
    </head>
    <body>
    <canvas id="map">
    </canvas>
    <script>
        var game = {}, scene = null;
        document.observe('dom:loaded',function(){
            try {
                scene = new DefenderScene(1500, game).start(); /*.attach({update : function(){console.log('attached')}}, ['update']);*/
                var sceneDisplay = new DefenderDisplay();
                scene.subscribe('update', sceneDisplay);
                scene.attach(sceneDisplay, ['sendCreep'])
                //scene.subscribe('update', {oops: function(){console.log('oops')}}, 'oops');
            } catch(e){
                console.log("error");
                console.log(e);
            }
        })
    </script>
</body>
</html>
